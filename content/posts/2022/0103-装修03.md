---
title: "Hugo | ç¬¬ä¸‰ç¯‡Stackä¸»é¢˜è£…ä¿®è®°å½•ï¼Œå ‚å ‚å†ä¸´ï¼"
date: 2022-01-03T22:12:30+08:00
description: æ˜¯çš„æˆ‘åˆæ¥äº†ï¼Œè¿›è¡Œä¸€äº›ç»ˆèº«äº‹ä¸š.JPG
tags:
  - Hugo
categories:
  - ç”˜æ™®åŸºæœ¬å˜å½¢å®šå¾‹
image: 
slug: stack-theme-furnish03

---

å‰ä¸¤æœŸè£…ä¿®è®°å½•å‚è§ï¼š

1. [çœ‹ä¸­ Stack ä¸»é¢˜çš„å½’æ¡£åŠŸèƒ½ï¼Œæ¬å®¶å¹¶åšä¿®æ”¹](https://mantyke.icu/2021/f9f0ec87/)

2. [å¦ä¸€ç¯‡ Stack ä¸»é¢˜è£…ä¿®è®°å½•](https://mantyke.icu/2021/a08f1963/)

æœ€è¿‘çš„ä¸»é¢˜ä¿®æ”¹æ”’æ”’åˆèƒ½å†™ä¸€ç¯‡äº†ï¼Œä¹‹åçš„ä¿®æ”¹ä¹Ÿéƒ½åœ¨è¿™ç¯‡æ›´æ–°ã€‚

> {{< emoji name="artist"  ext="png" width="35" >}} æœ¬æ–‡ä½œè€…æ²¡æœ‰ä»»ä½•ä»£ç åŸºç¡€ï¼Œæ‰€æœ‰è¯´æ˜æ€§æ–‡å­—ä¸»è¦é è¿è’™å¸¦çŒœå…¼çµå…‰ä¸€ç°ï¼Œå‚è€ƒæ—¶è¯·åŠ¡å¿…æ³¨æ„ï¼Œæ¬¢è¿æå‡ºæ„è§å’Œç»™å‡ºå»ºè®®~

<br>

## ä¿®æ”¹é¼ æ ‡é€‰ä¸­é¢œè‰²

ä¿®æ”¹`/assets/scss/custom.scss`

```
//ä¿®æ”¹é€‰ä¸­é¢œè‰²
::selection {
    color: #fff;
    background: #34495e;
}
```

<br>

## è°ƒæ•´å¸ƒå±€ï¼Œè®¾ç½®å‹æƒ…é“¾æ¥ä¸ºåŒæ 

å‰æœŸå·¥ä½œå‚è€ƒï¼š[ä¿®æ”¹å‹é“¾æ ·å¼](https://mantyke.icu/2021/a08f1963/#%E4%BF%AE%E6%94%B9%E5%8F%8B%E9%93%BE%E6%A0%B7%E5%BC%8F)

å‚è€ƒ[å°†Hugo Stackä¸»é¢˜å‹æƒ…é“¾æ¥æ”¹ä¸ºåŒåˆ—æ˜¾ç¤º](https://tech.randomwaves.space/posts/21-12-08-make-hugo-stack-theme-links-display-in-two-columns/)ä¿®æ”¹`/assets/scss/custom.scss`

```
//å‹æƒ…é“¾æ¥åŒæ 
@media (min-width: 1024px) {
    .article-list--compact.links {
        display: grid;
        grid-template-columns: 1fr 1fr;
        background: none;
        box-shadow: none;
        
        article {
            background: var(--card-background);
            border: none;
            box-shadow: var(--shadow-l2);
            margin-bottom: 8px;
            border-radius: 10px;
            &:nth-child(odd) {
                margin-right: 8px;
            }
        }
    }
}
```

<br>

## çªç„¶æ›´æ–°ï¼Œåˆ æ‰walineçš„è™šçº¿

ä¸çŸ¥é“å“ªå¤©å¼€å§‹Walineçªç„¶æ›´æ–°äº†ä¸¤æ¡éš¾çœ‹çš„è™šçº¿ï¼Œæˆ‘åˆ æ‰äº†åº•è™šçº¿ï¼Œä¾§è™šçº¿æ‰¾äº†åŠå¤©ä¸çŸ¥é“æ€ä¹ˆåˆ _(:Ğ·ã€âˆ )_

ä¿®æ”¹`layouts\partials\comments\provider\waline.html`

```
   :root{
   	       --waline-border-color:transparent;
   	 }      
```

<br>

## å¢åŠ å¤´åƒä¸‹ç¤¾äº¤é“¾æ¥

è¿™ä¸ªå…¶å®æ˜¯Stackä¸»é¢˜æœ¬æ¥æœ‰/åæœŸæ›´æ–°çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œè®°ä¸æ¸…æ˜¯ä¹‹å‰è§‰å¾—éº»çƒ¦åˆ äº†è¿˜æ˜¯å®ƒåæ¥æ‰æ›´æ–°çš„ï¼Œç”±äºæˆ‘çš„themeæ–‡ä»¶å¤¹æ˜¯é‡‡å–æœ¬åœ°ä¸‹è½½çš„æ–¹å¼ï¼Œä¸èƒ½ç›´æ¥æ‹‰å–æ›´æ–°ï¼Œæ‰€ä»¥æ˜¯æ‰¾åˆ°äº†å®ƒå¢åŠ åŠŸèƒ½çš„é‚£æ¬¡[æäº¤](https://github.com/CaiJimmy/hugo-theme-stack/commit/661e59b85d6761905da906018a26120a0b45ef5e)ç…§ç€æ”¹çš„ã€‚

ä¿®æ”¹`assets/scss/partials/menu.scss`

```
.social-menu {
    list-style: none;
    padding: 0%;
    display: flex;
    flex-direction: row;
    gap: 10px;
    justify-content: center; #è®¾ç½®å±…ä¸­

    svg {
        width: 24px;
        height: 24px;
        stroke: var(--body-text-color);
        stroke-width: 1.33;
    }
}
```

ä¿®æ”¹`layouts/partials/sidebar/left.html`ï¼Œåœ¨ä¸€å¤´ä¸€å°¾ä¸¤è¡Œä¸­é—´åŠ å…¥

```
        <h2 class="site-description">{{ .Site.Params.sidebar.subtitle }}</h2> 

#åŠ å…¥ä»¥ä¸‹å†…å®¹

        {{- with .Site.Menus.social -}}
            <ol class="social-menu">
                {{ range . }}
                    <li>
                        <a 
                            href='{{ .URL | relLangURL }}'
                            {{ if eq (default true .Params.newTab) true }}target="_blank"{{ end }}
                            {{ with .Name }}title="{{ . }}"{{ end }}
                        >
                            {{ $icon := default "link" .Params.Icon }}
                            {{ with $icon }}
                                {{ partial "helper/icon" . }}
                            {{ end }}
                        </a>
                    </li>
                {{ end }}
            </ol>
        {{- end -}}
        
#åˆ°è¿™é‡Œç»“æŸ
    </header>
```

ä¹‹ååœ¨config.yamlä¸­åŠ å…¥ä»¥ä¸‹æ®µè½ï¼Œå›¾æ ‡æ–‡ä»¶æ”¾ç½®åœ¨`assets/icons`ï¼Œsvgæ ¼å¼

```
menu:
    main:
    social:
        - identifier: å°çƒé£æ§
          name: å°çƒé£æ§
          weight: 4
          url: https://ink.mantyke.icu
          params:
          	icon: feicha
```

<br>

## å†¬å¤©æ¥äº†ï¼Œä¸‹ç‚¹å°é›ªäºº

åœ£è¯èŠ‚å‰åœ¨[Mengruçš„ç©ºé—´](https://mengru.space/)çœ‹åˆ°çš„[ä¸‹é›ªå°è„šæœ¬](https://mengru.space/?posts/2021/12/%E5%97%96%E5%BE%97%E4%B8%80%E4%B8%8B11%E6%9C%88#%E5%8D%9A%E5%AE%A2%E4%B8%8B%E9%9B%AA%E7%9A%84%E5%B0%8F%E8%84%9A%E6%9C%AC)ï¼ŒæŒºæœ‰æ„æ€çš„ï¼Œæœ¬æ¥æƒ³åœ£è¯ä¸‹ä¸¤å¤©é›ªï¼Œåæ¥å¿™æ¥å¿™å»ï¼Œä»Šå¤©æ‰æƒ³èµ·æ¥åŠ ä¸Š

å› ä¸ºé™¤äº†é›ªä¹‹å¤–è¿˜æƒ³ä¸‹ç‚¹åˆ«çš„ï¼Œæ‰€ä»¥æŠŠJSæ–‡ä»¶ä¸‹è½½ä¸‹æ¥æ”¹æ”¹é…ç½®ï¼Œåœ¨`static/js`é‡Œæ–°å»ºä¸€ä¸ª`snow.js`ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š

```
;(function () {
    const Config = {
       snow: ['â„', '', 'â€»', 'â›„', 'â˜ƒ', 'ğŸ„', ], // é›ªèŠ±çš„æ ·å¼ï¼Œå¯ä»¥æ”¾ä¸åŒçš„é›ªèŠ±ï¼Œæˆ–è€…ä»»ä½• emojiï¼Œæ¯æ¬¡ç”Ÿæˆæ–°é›ªèŠ±æ—¶ä¼šéšæœºæŒ‘é€‰å…¶ä¸­ä¸€ä¸ª
        color: '#d9e2e7', // é›ªçš„é¢œè‰²
        speed: 10, // é›ªèŠ±ä»ç”Ÿæˆåˆ°è½åˆ°æœ€åº•ç«¯æ‰€ç»å†çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚æ•°å­—è¶Šå°è½å¾—è¶Šå¿«
        dom: document.getElementsByTagName('body')[0], // ä¸‹é›ªçš„åŒºåŸŸï¼Œå¯ä»¥ä¿æŒä¸å˜ï¼Œè¿™æ ·å°±æ˜¯å…¨å±ä¸‹é›ª
        interval: 800 // ç”Ÿæˆä¸€ç‰‡é›ªèŠ±çš„æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯æ¯«ç§’
    }
    if (!Config.dom) {
        throw Error('é”™è¯¯æç¤º')
    }
    const $canvas = document.createElement('div')

    useStyle($canvas, {
        width: '100%',
        height: '100%',
        position: 'fixed',
        top: 0,
        left: 0,
        pointerEvents: 'none',
        zIndex: 100
    })

    setInterval(() => {
        const $snow = document.createElement('div')
        $snow.innerText = Config.snow[rand(0, Config.snow.length - 1)]
        useStyle($snow, {
            display: 'inline-block',
            color: Config.color,
            fontSize: rand(14, 25) + 'px',
            position: 'absolute',
            top: 0,
            left: rand(0, 100) + '%',
            transition: 'transform ' + Config.speed + 's linear' + ',opacity ' + Config.speed + 's linear',
            transform: 'translateY(-100%)',
            opacity: Math.random() + 0.3
        })
        setTimeout(() => {
            useStyle($snow, {
                transform: 'translate(0, ' + getComputedStyle($canvas).height + ') rotate(480deg)',
                opacity: 0
            })
            $snow.addEventListener('transitionend', () => {
                $snow.remove()
            })
        }, 100)
        $canvas.appendChild($snow)
    }, Config.interval)

    function rand (from, to) {
        return from + Math.floor(Math.random() * (to - from + 1))
    }
    function useStyle (dom, style) {
        for (let sKey in style) {
            dom.style[sKey] = style[sKey]
        }
    }

    Config.dom.appendChild($canvas)
})()
```

ä¹‹ååœ¨`/layouts/partials/footer/custom.html`ä¸­åŠ å…¥

```
<script src="/js/snow.js"></script>
```

â€¦â€¦è¯´èµ·æ¥ï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯å¥½ä¹…å‰åšå®¢å¤§å·´å¹´ä»£ç©å„¿çš„ï¼Ÿæœäº†ä¸€ä¸‹ï¼Œå‘ç°2017å¹´8æœˆåšå®¢å¤§å·´å› ä¸å¯æŠ—åŠ›åœè¿äº†ã€‚

<br>

## å‡çº§è¿›åŒ–æœ¬ç«™æ€»å­—æ•°æ˜¾ç¤º

ç«™ç‚¹æ€»å­—æ•°è¶…è¿‡åä¸‡äº†ï¼ŒåŸæœ¬çš„å­—æ•°æ˜¾ç¤ºæ–¹å¼æ˜¾å¾—ä¸å¤ªæ•´æ´ï¼Œéœ€è¦è°ƒæ•´æ–°çš„æ˜¾ç¤ºæ–¹å¼ï¼Œä»æ˜¾ç¤ºâ€œå…±å˜Ÿå˜Ÿäº† 125126 å­—â€ï¼Œæ”¹ä¸ºæ˜¾ç¤ºâ€œå…±å˜Ÿå˜Ÿäº†12.5kå­—â€

æ„Ÿè°¢å—ç‹å’Œæ²‰ç›®çš„å¥½å¿ƒå¸®åŠ©ï¼Œ ç¡å‰åœ¨è±¡ä¸Šå˜Ÿå˜ŸListäº†ä¸€ä¸‹ï¼ŒèŠç€èŠç€ç«Ÿç„¶æ”¶è·äº†ä¸€ä»½ä½œä¸šå¯ä»¥æŠ„ï¼

é¦–å…ˆæ¥çœ‹ä¹‹å‰çš„å­—æ•°æ˜¾ç¤ºä»£ç ï¼Œä¸¤æ®µä»£ç éƒ½å†™åœ¨`layouts\partials\footer\footer.html`ä¸­

```
{{$scratch := newScratch}}
{{ range (where .Site.Pages "Kind" "page" )}} 
    {{$scratch.Add "total" .WordCount}}
{{ end }}
```

æ ¹æ®Hugoçš„æ–‡æ¡£ï¼Œ[.Scratch](https://gohugo.io/functions/scratch/)å¯ä»¥ç”¨æ¥å¤„ç†æ•°æ®ï¼Œ`scratch.Add`ç”¨æ¥å°†ç»™å®šå€¼æ·»åŠ åˆ°æŒ‡å®šé”®çš„ç°æœ‰å€¼ï¼Œå¹¶ä¸”å¯ä»¥ç´¯è®¡ï¼Œ[.WordCount](https://gohugo.io/variables/page/#page-variables)æ˜¯Hugoæä¾›çš„å­—æ•°ç»Ÿè®¡å˜é‡ï¼Œè¿™ä¸€æ®µä»£ç çš„æ„æ€æ˜¯ï¼Œå¾ªç¯éå†ç«™ç‚¹çš„æ‰€æœ‰ç±»å‹ä¸º`page`çš„é¡µé¢ï¼Œå°†æ•°å€¼æ·»åŠ åˆ°`total`å½“ä¸­ã€‚

```
å…±å˜Ÿå˜Ÿäº† {{$scratch.Get "total" }}å­—
```

`scratch.Set`ç”¨æ¥è·å–`total`çš„å€¼ï¼Œè¿™æ ·å°±å®Œæˆäº†ç«™ç‚¹æ€»å­—æ•°çš„ç»Ÿè®¡ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§è¾¾åˆ°ç›®çš„çš„åŠæ³•ï¼Œå‡è®¾æ€»å­—æ•°ä¸º 125126å­—ã€‚

1. æ ¹æ®[æ–‡æ¡£](https://gohugo.io/functions/math/#readout)ï¼Œç®€å•ä¿®æ”¹é¡µå°¾ï¼Œä¿®æ”¹ä¸º`{{div ($scratch.Get "total") 1000}}`ï¼ˆä¸æ˜¾ç¤ºå°æ•°ï¼‰æˆ–è€…`{{div ($scratch.Get "total") 1000.0}}`ï¼ˆæ˜¾ç¤ºå°æ•°ï¼‰ï¼ŒåŠ ä¸€ä¸ª`k`ã€‚æœ€ç»ˆä¼šæ˜¾ç¤º125kå­—æˆ–è€…125.126kå­—ã€‚

2. 125.126kå­—å¾ˆéš¾çœ‹ï¼Œ125kå¥½åƒåˆæœ‰ç‚¹ä¸å¤Ÿæ´»æ³¼ï¼ŒæŠ˜ä¸­ä¸€ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨Hugoçš„`.FuzzyWordCount`å‚æ•°ï¼Œæ¨¡ç³Šç»Ÿè®¡æ¯ç¯‡æ–‡ç« çš„å­—æ•°ï¼ˆè¶…è¿‡ä¸€ç™¾çš„å‘ä¸Šå–æ•´ï¼‰ï¼Œé…åˆ`{{div ($scratch.Get "total") 1000.0}}`ï¼Œå°±ä¼šæ˜¾ç¤ºå¸¦ä¸€ä½å°æ•°çš„æ€»å­—æ•°ã€‚ç¼ºç‚¹åœ¨äºï¼Œæ¨¡ç³Šç»Ÿè®¡å­—æ•°ä¼šéšç€æ–‡ç« ç¯‡æ•°å¢åŠ è€Œè¶Šæ¥è¶Šä¸å‡†ç¡®ï¼Œä¸æ˜¯ä¸ªå¾ˆå¥½çš„å¤„ç†åŠæ³•ã€‚

3. æŒ‰ç…§è±¡å‹å—ç‹ç»™å‡ºçš„å‡½æ•°ï¼Œå¯¹æ•°å€¼è¿›è¡Œä¸€äº›è®¡ç®—

   ```
   {{$var :=  $scratch.Get "total"}} #å°†totalçš„å€¼ç»™äºˆvar
   {{$var = div $var 100.0}} #å°†varçš„å€¼é™¤ä»¥100
   {{$var = math.Ceil $var}} #æ•°å€¼å‘ä¸‹å–æ•´
   {{$var = div $var 10.0}} #å†é™¤ä»¥10ï¼Œè·å¾—å¸¦ä¸€ä½å°æ•°ç‚¹çš„æ•°å­—
   ```

   ```
   å…±å˜Ÿå˜Ÿäº† {{$scratch.Get "var" }}å­—
   ```

   æœ€ç»ˆæ˜¾ç¤ºæ•ˆæœä¸ºï¼šå…±å˜Ÿå˜Ÿäº†125.1kå­—ï¼Œå®Œç¾ï¼

å®Œæ•´ä»£ç å¦‚ä¸‹ï¼ˆåœ¨åŸæœ¬å­—æ•°ç»Ÿè®¡ä»£ç çš„åŸºç¡€ä¸Šä¿®æ”¹ï¼‰ï¼š

```
{{$var :=  $scratch.Get "total"}}{{$var = div $var 100.0}}{{$var = math.Ceil $var}}{{$var = div $var 10.0}}å…±å˜Ÿå˜Ÿäº†{{$var}}kå­—
```

<br>

**è¡¥å……ï¼š** Zeroè¡¥å……è¯´[æ–‡æ¡£](https://gohugo.io/functions/lang/#langformatnumber)ä¸­è¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹å¼æ¥ä¿ç•™å°æ•°ç‚¹ã€‚

> å®ƒä¹‹æ‰€ä»¥æŠŠè¿™ä¸ªåŠŸèƒ½æ”¾åˆ° lang ä¸‹é¢ï¼Œæ˜¯å› ä¸ºæ¯”å¦‚è¯´ä¸­æ³•åŒè¯­çš„åšå®¢ï¼Œåˆ‡æ¢åˆ°æ³•è¯­åå°æ•°ç‚¹è‡ªåŠ¨æ”¹æˆé€—å·ï¼š123.45 â†’ 123,45

```
å…±å˜Ÿå˜Ÿäº†{{ div ($scratch.Get "total") 1000.0 | lang.FormatNumber 2 }}kå­—.
```

<br>

## å³ä¾§æ æ–°å¢åˆ†ç±»å°éƒ¨ä»¶

æœ‰ä¸€å¤©æˆ‘åˆ°å¤„ä¹±é€›ï¼Œå¿½ç„¶å‘ç°[å°é±¼](https://gregueria.vercel.app/#/)åšå®¢å³ä¾§æ æŒ‚äº†ä¸€ä¸ªåˆ†ç±»å°éƒ¨ä»¶ï¼Œå¾ˆæ–¹ä¾¿è·³è½¬ï¼Œäºæ˜¯æˆ‘è·‘å»è±¡ä¸Šé—®å¥¹è¿™ä¸ªå°éƒ¨ä»¶æ˜¯æ€ä¹ˆåšçš„ã€‚æœ¬æ„åªæ˜¯æƒ³é—®ä¸ªä½œä¸šæ€è·¯ï¼Œæ²¡æƒ³åˆ°è¿‡äº†ä¸€ä¼šå°é±¼å‘æ¥ä¸€å¥—[å®Œæ•´ä½œä¸š](https://files.shittyurl.org/gy6ljk14.md#/)ï¼Œæˆ‘å¤§åƒä¸€æƒŠï¼Œè°¢è°¢ä½ å°é±¼ï¼

å‘¨äº”æ™šä¸ŠèŠ±äº†ååˆ†é’ŸæŠ„ä½œä¸šå®Œæ¯•ï¼Œé¢å¯¹æœ€ç»ˆæ•ˆæœé™·å…¥æ²‰æ€ï¼šç”¨è¿™ç§æ–¹æ³•ç¡®å®å¯ä»¥ç”Ÿæˆåˆ†ç±»åˆ—è¡¨ï¼Œä½†çœ‹ä¸åˆ°æ¯ä¸ªåˆ†ç±»çš„æ–‡ç« æ•°é‡æ€»å½’è¿˜æ˜¯æœ‰ç‚¹ä¸å°½å¦‚äººæ„â€¦â€¦å·¦å³é—²æ¥æ— äº‹ï¼Œå¹²è„†åŠ¨æ‰‹è¯•è¯•è‡ªå·±èƒ½ä¸èƒ½åšä¸€ä¸ªå‡ºæ¥ã€‚

<br>

### æ€è·¯ï¼šæŠ„ï¼Œæœ‰ç›®çš„åœ°æŠ„

æƒ³è¦å®ç°çš„æ•ˆæœå…¶å®å’ŒArchiveséƒ¨ä»¶å·®ä¸å¤šï¼šArchiveséƒ¨ä»¶æ˜¯æ£€ç´¢æ‰€æœ‰æ–‡ç« çš„å‘å¸ƒæ—¶é—´ï¼Œå†æ˜¾ç¤ºæ¯å¹´çš„æ–‡ç« æ•°é‡ã€‚æˆ‘æƒ³åšçš„åˆ†ç±»éƒ¨ä»¶åˆ™æ˜¯æ£€ç´¢æ–‡ç« åˆ†ç±»ï¼Œå†æ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»ä¸‹çš„æ–‡ç« æ•°ã€‚æ—¢ç„¶å·®ä¸å¤šï¼Œä¸å¦‚ç›´æ¥åœ¨æ–‡æ¡£é‡Œæ‰¾åˆ°è¦ç”¨çš„å˜é‡ï¼Œå†ç…§è‘«èŠ¦ç”»ç“¢å¥—è¿›å»â€”â€”æƒ³å½“ç„¶å¾—å‰å®³ï¼Œå½“ç„¶æƒ¨çƒˆå¤§å¤±è´¥ã€‚

éƒé—·äº†äº”åˆ†é’Ÿï¼Œæˆ‘æ´—å¿ƒé©é¢ï¼Œå†æ¥å†å‰ï¼Œæ²‰æ€ï¼šè¿™ä¸ªè¯‰æ±‚åº”è¯¥ä¸å°‘ä¸»é¢˜æœ‰åšï¼Œåªä¸è¿‡æ˜¾ç¤ºå‡ºæ¥çš„æ•ˆæœä¸å¤ªä¸€æ ·ï¼Œæˆ‘å»æŠ„ä¸€æŠ„åˆ«äººæ€ä¹ˆå†™çš„ï¼Œå†è‡ªå·±å¥—ä¸€ä¸‹Archivesçš„CSSï¼Œåº”è¯¥ä¹Ÿå¯ä»¥ï¼ç«‹åˆ»å­å“§å­å“§æ‰“å¼€Hugoçš„Themeåˆ—è¡¨ï¼Œæœç„¶æ‰¾åˆ°ä¸€ä¸ªä¸»é¢˜åšäº†å³ä¾§æ çš„åˆ†ç±»éƒ¨ä»¶ï¼Œæˆ‘ç›´å¥”Layoutæ–‡ä»¶å¤¹ï¼Œé¡ºåˆ©æ‰¾åˆ°ä»¥ä¸‹è¿™æ®µä»£ç ï¼š

```
<div class="widget">
    <h3 class="widget-title"> {{ T "widget_categories" }}</h3>
    <div class="widget-body">
        <ul class="category-list">
            {{- range $name, $taxonomy := $.Site.Taxonomies.categories }}
            {{- with $.Site.GetPage (printf "/categories/%s" $name) }}
            <li class="category-list-item"><a href="{{ .Permalink }}" class="category-list-link">{{ $name }}</a><span class="category-list-count">{{ $taxonomy.Count}}</span></li>
            {{- end }}
            {{- end }}
        </ul>
    </div>
</div>
```

<br>

### è¡ŒåŠ¨ï¼šå¥—ï¼Œå¾ˆè¿·èŒ«åœ°å¥—

æŠŠä»¥ä¸Šä»£ç æ”¾åˆ°é¦–é¡µä¸Šä¸€çœ‹ï¼Œé¡ºåˆ©æ˜¾ç¤ºå‡ºäº†æˆ‘è¦çš„å†…å®¹ã€‚ä½†æ˜¾ç„¶æ¯«æ— æ ·å¼å¯è¨€ã€‚äºæ˜¯æˆ‘å¼€å§‹ç ”ç©¶å®ƒæ€ä¹ˆæ‰èƒ½å˜æˆæˆ‘æƒ³è¦çš„æ ·å­â€”â€”æˆ‘è´«ä¹çš„å‰ç«¯çŸ¥è¯†å‘Šè¯‰æˆ‘ï¼Œå¦‚æœæƒ³è¦cssæˆåŠŸä¿®é¥°æˆ‘æƒ³è¦çš„å†…å®¹ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°ç±»é€‰æ‹©å™¨ï¼Œç±»é€‰æ‹©å™¨çš„è¯ï¼Œéœ€è¦ç±»åç›¸åŒã€‚å¥½ï¼æˆ‘åªè¦æŠŠä¸¤è¾¹çš„ç±»åæ”¹åˆ°å¯¹åº”ï¼Œåº”è¯¥å°±å¯ä»¥æˆåŠŸè®©å®ƒæ˜¾ç¤ºæˆArchiveséƒ¨ä»¶çš„æ ·å­äº†ï¼

â€”â€”å®é™…ä¸Šå“ªå„¿æœ‰è¿™ä¹ˆç®€å•ï¼Œé‡åˆ°çš„é—®é¢˜ä¸€å¤§å †ï¼Œæ¯”å¦‚ï¼šåŸä»£ç ä½¿ç”¨çš„æ˜¯`ul/li`çš„åºåˆ—åˆ—è¡¨ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å†™é”™ï¼Œæ€»ä¹‹ä¸€ç›´æ— æ³•æˆåŠŸå¯¹åº”æ ·å¼ï¼Œäºæ˜¯æŠŠ`ul/li`éƒ½åˆ æ‰ï¼Œæ¢æˆ`div/span`çš„ç›’å­è£…èµ·æ¥ï¼›ç ”ç©¶äº†åŠå¤©ä¸ºä»€ä¹ˆ`category-list-link`å§‹ç»ˆå¯¹åº”ä¸ä¸Šcssæ ·å¼ï¼›å¥½ä¸å®¹æ˜“æå®šäº†ï¼Œå‘ç°æ•°å­—éƒ¨åˆ†ä¸€ç›´å åœ¨ç¬¬äºŒè¡Œï¼Œä¸æ„¿æ„å’Œåˆ†ç±»åå…±å¤„ä¸€å®¤ï¼Œè§£å†³åŠæ³•æ˜¯æ•°å­—çš„éƒ¨åˆ†æ”¾è¿›`<a></a>`é‡ŒåŒ…è£¹èµ·æ¥ï¼›å¥½ä¸å®¹æ˜“åŠå¾—ä»–ä»¬äº’ç›¸è°…è§£ï¼Œæ•°å­—åˆéå¾—è·Ÿç€åˆ†ç±»åé»é»ç³Šç³Šï¼Œä¸æ„¿æ„ä¸€ä¸ªäººä½åˆ°å³è¾¹å„¿å»ç­‰ç­‰ç­‰ç­‰â€¦â€¦

æ€»ä¹‹æœ€åéƒ½è§£å†³äº†ï¼

<br>

### æˆæœï¼šç­ç­å¤§æˆåŠŸï¼

æœ€ç»ˆå®ç°åˆ†ç±»å°éƒ¨ä»¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š

åœ¨`\layouts\partials\widget` ä¸­æ–°å»ºä¸€ä¸ª`categories.html`æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

```
{{- $query := first 1 (where .Site.Pages "Layout" "==" "archives") -}}
{{- if $query -}}
    {{- $archivesPage := index $query 0 -}}
    <section class="widget categories">
        <div class="widget-icon">
            {{ partial "helper/icon" "infinity" }}  
        </div> 
        <h2 class="widget-title section-title">Categories</h2>
    <div class="widget-categories--list">
<div class="widget">
    <h3 class="widget-title"> {{ T "widget_categories" }}</h3>
    <div class="widget-body">
        <div class="category-list">
            {{- range $name, $taxonomy := $.Site.Taxonomies.categories }}
            {{- with $.Site.GetPage (printf "/categories/%s" $name) }}
            <div class="category-list-item"><a href="{{ .Permalink }}" class="category-list-link">{{ $name }}<span class="category-list-count">{{ $taxonomy.Count}}</a>
            </span></div>
            {{- end }}
            {{- end }}
        </div>
    </div>
</div>
    </div>
    </section>
{{- else -}}
    {{- warnf "Archives page not found. Create a page with layout: archives." -}}
{{- end -}}
```

åœ¨`\assets\scss\partials\widgets.scss`ä¸­æ·»åŠ æ ·å¼ï¼š

```
/* categories widget */

.widget.categories {
    .widget-categories--list {
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        background-color: var(--card-background); 
    }

    .category-list-item {
        &:not(:last-of-type) {
            border-bottom: 1.4px solid var(--card-separator-color);
        }

        a {
            font-size: 1.4rem;
            padding: 18px 25px;
            display: flex;
            justify-content: space-between;
            color: var(--card-text-color-main);
}
    span.category-list-count {
        color: var(--card-text-color-tertiary);


        }
    }
}
```

ä¹‹ååœ¨`config.yaml`ä¸­æ·»åŠ éƒ¨ä»¶å³å¯ï¼š

```
       widgets:
           enabled:
               - categories
```

é—®é¢˜è§£å†³æ‰ä¸€ä¸ªé•¿å‡ºæ–°çš„ï¼Œåšå®Œäº†å°éƒ¨ä»¶åå¼€å§‹ç¢ç£¨ï¼š

1. å°éƒ¨ä»¶ä¸­åˆ†ç±»çš„é¡ºåºå¯ä»¥æ”¹å˜å—ï¼Ÿè¯•è¿‡äº†åœ¨categoriesæ–‡ä»¶å¤¹ä¸­æŒ‡å®šweightä¸èƒ½ç”Ÿæ•ˆï¼Œä¹Ÿæ²¡è¯•å‡ºæ¥æ’åºè§„åˆ™æ˜¯ä»€ä¹ˆï¼ˆè‚¯å®šä¸æ˜¯æ‹¼éŸ³ï¼‰ã€‚
2. é¦–é¡µä¸‰ä¸ªå°éƒ¨ä»¶æœ‰ç‚¹å¤šï¼Œæƒ³æŠŠtag-cloudå»æ‰ï¼Œä½†å»æ‰ä¹‹åå³ä¾§ä¼šå˜å¾—éå¸¸çª„ï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“å¦‚ä½•ä¿®æ”¹ã€‚
3. å¢åŠ åˆ†ç±»å°éƒ¨ä»¶åï¼Œè¿›å…¥æ–‡ç« é¡µé¢ä¹Ÿæœ‰ç‚¹è‡ƒè‚¿ï¼Œä¸çŸ¥æ˜¯å¦å¯ä»¥æŒ‡å®šæ–‡ç« é¡µä¸­ä¸æ˜¾ç¤ºæŸä¸ªå°éƒ¨ä»¶ï¼Ÿçœ‹äº†çœ‹æ–‡ç« æ¨¡æ¿ï¼Œä¹Ÿæ²¡ä»€ä¹ˆæ€è·¯â€¦â€¦

<br>

